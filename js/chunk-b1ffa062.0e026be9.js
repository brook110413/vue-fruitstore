(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1ffa062"],{"1bb3":function(t,e,i){},8289:function(t,e,i){"use strict";var a=i("1bb3"),s=i.n(a);s.a},8619:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"favorite pt-4"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"container"},[t.favoriteList[0]?i("div",[i("div",{staticClass:"favoriteTitle d-flex justify-content-between align-items-center mb-4 pb-3"},[i("h2",{staticClass:"h3 mb-0 font-weight-bold"},[t._v("我的追蹤清單")]),i("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(" 共 "),i("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.favoriteList.length)+" ")]),t._v(" 項 ")])]),i("div",{staticClass:"row"},t._l(t.favoriteList,(function(e){return i("div",{key:e.id,staticClass:"col-lg-3 col-md-6 mb-5"},[i("router-link",{staticClass:"text-decoration-none text-dark",attrs:{to:"/product/"+e.id}},[i("div",{staticClass:"card"},[i("div",{staticClass:"product__wrap"},[i("div",{staticClass:"product__wrap__img bg-cover position-relative",staticStyle:{height:"200px"},style:{backgroundImage:"url("+e.imageUrl[0]+")"}},[t.favoriteId.includes(e.id)?i("a",{staticClass:"btn favoriteIcon",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.removefavorite(e)}}},[i("i",{staticClass:"fas fa-heart fa-lg text-white"})]):i("a",{staticClass:"btn favoriteIcon",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.addfavorite(e)}}},[i("i",{staticClass:"far fa-heart fa-lg text-white"})]),i("span",{staticClass:"moreInfo"},[t._v("看更多內容")])])]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("h5",{staticClass:"card-title text-primary font-weight-bold"},[t._v(t._s(e.title))]),i("span",{staticClass:"badge badge-secondary align-self-start"},[t._v(" "+t._s(e.category)+" ")])]),i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("money")(e.origin_price))+" 元")]),i("p",{staticClass:"h5 font-weight-bold"},[t._v("網路價 "+t._s(t._f("money")(e.price))+" 元")])])])]),i("div",{staticClass:"card-footer bg-white p-0 border-0"},[i("button",{staticClass:"btn btn-primary btn-block font-weight-bold",staticStyle:{"border-top-left-radius":"0","border-top-right-radius":"0"},attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.addToCart(e.id)}}},[i("i",{staticClass:"fas fa-cart-plus mr-1"}),t._v(" 加入購物車 ")])])])])],1)})),0)]):i("div",{staticClass:"d-flex justify-content-center"},[i("div",[i("h2",{staticClass:"favorite__title mb-3 h5"},[t._v("暫時無追蹤商品，請添加商品")]),i("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.category="所有商品",t.toProducts()}}},[i("i",{staticClass:"fas fa-angle-left mr-2"}),t._v("去逛逛")])])])])],1)},s=[],o=(i("99af"),i("4160"),i("a434"),i("159b"),i("1940")),r=i.n(o),n={name:"Favorite",data:function(){return{favoriteList:[],favoriteId:[],isLoading:!1,category:""}},created:function(){this.favoriteList=JSON.parse(localStorage.getItem("favoriteList"))||[],this.favoriteId=JSON.parse(localStorage.getItem("favoriteId"))||[]},methods:{removefavorite:function(t){var e=this;this.favoriteList.forEach((function(i,a){i.id===t.id&&(e.favoriteList.splice(a,1),localStorage.setItem("favoriteList",JSON.stringify(e.favoriteList)))})),this.favoriteId.forEach((function(i,a){i===t.id&&(e.favoriteId.splice(a,1),localStorage.setItem("favoriteId",JSON.stringify(e.favoriteId)))})),r()({title:"取消追蹤商品",text:"已取消追蹤商品",icon:"info",buttons:!1,timer:1e3})},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/shopping"),s={product:t,quantity:i};this.$http.post(a,s).then((function(){r()({title:"產品添加成功",text:"請至購物車結帳",icon:"success",buttons:!1,timer:1e3}),e.$emit("updateCart"),e.isLoading=!1})).catch((function(){r()({title:"商品重複",text:"商品已放入購物車當中",icon:"error",buttons:!1,timer:1e3}),e.isLoading=!1}))},toProducts:function(){this.$emit("fliterProduct",this.category),this.$router.push("/products/".concat(this.category))}}},c=n,l=(i("8289"),i("2877")),f=Object(l["a"])(c,a,s,!1,null,"7285aaa9",null);e["default"]=f.exports},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("23cb"),o=i("a691"),r=i("50c4"),n=i("7b0b"),c=i("65f0"),l=i("8418"),f=i("1dde"),d=i("ae40"),v=f("splice"),u=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!v||!u},{splice:function(t,e){var i,a,f,d,v,u,m=n(this),C=r(m.length),_=s(t,C),y=arguments.length;if(0===y?i=a=0:1===y?(i=0,a=C-_):(i=y-2,a=p(h(o(e),0),C-_)),C+i-a>g)throw TypeError(b);for(f=c(m,a),d=0;d<a;d++)v=_+d,v in m&&l(f,d,m[v]);if(f.length=a,i<a){for(d=_;d<C-a;d++)v=d+a,u=d+i,v in m?m[u]=m[v]:delete m[u];for(d=C;d>C-a+i;d--)delete m[d-1]}else if(i>a)for(d=C-a;d>_;d--)v=d+a-1,u=d+i-1,v in m?m[u]=m[v]:delete m[u];for(d=0;d<i;d++)m[d+_]=arguments[d+2];return m.length=C-a+i,f}})}}]);
//# sourceMappingURL=chunk-b1ffa062.0e026be9.js.map