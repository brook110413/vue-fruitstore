{"version":3,"sources":["webpack:///./src/views/dashboard/Login.vue?d9f0","webpack:///src/views/dashboard/Login.vue","webpack:///./src/views/dashboard/Login.vue?8c99","webpack:///./src/views/dashboard/Login.vue?cd3d","webpack:///./src/views/dashboard/Login.vue?9532"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","preventDefault","logIn","_v","scopedSlots","_u","key","fn","ref","errors","classes","directives","name","rawName","value","user","expression","class","domProps","target","composing","$set","_s","toFrontEnd","staticRenderFns","data","email","password","methods","$http","$router","push","component"],"mappings":"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","file":"js/chunk-168dc4e2.e730c4e9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login d-flex justify-content-center align-items-center\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.logIn()}}},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\" 請先登入 \")]),_c('div',{staticClass:\"form-group\"},[_c('Validation-provider',{attrs:{\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"loginEmail\"}},[_vm._v(\"Email address\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"email\",\"name\":\"電子郵件\",\"id\":\"loginEmail\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"請輸電子郵件\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger text-left\"},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])]}}])})],1),_c('div',{staticClass:\"form-group\"},[_c('Validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"loginPassword\"}},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"password\",\"name\":\"密碼\",\"id\":\"loginPassword\",\"placeholder\":\"請輸入密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger text-left\"},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])]}}])})],1),_c('button',{staticClass:\"btn btn-primary btn-block\",attrs:{\"type\":\"submit\"}},[_vm._v(\" 登入 \")]),_c('button',{staticClass:\"btn btn-outline-warning btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toFrontEnd()}}},[_vm._v(\" 回首頁 \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login d-flex justify-content-center align-items-center\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <form @submit.prevent=\"logIn()\">\n      <h1 class=\"text-center\">\n        請先登入\n      </h1>\n      <div class=\"form-group\">\n        <Validation-provider rules=\"required|email\" v-slot=\"{ errors, classes }\">\n          <label for=\"loginEmail\" class=\"sr-only\">Email address</label>\n          <input\n            type=\"email\"\n            name=\"電子郵件\"\n            class=\"form-control\"\n            :class=\"classes\"\n            id=\"loginEmail\"\n            aria-describedby=\"emailHelp\"\n            placeholder=\"請輸電子郵件\"\n            v-model=\"user.email\"\n          />\n          <span class=\"text-danger text-left\"> {{ errors[0] }} </span>\n        </Validation-provider>\n      </div>\n      <div class=\"form-group\">\n        <Validation-provider rules=\"required\" v-slot=\"{ errors, classes }\">\n          <label for=\"loginPassword\" class=\"sr-only\">Password</label>\n          <input\n            type=\"password\"\n            name=\"密碼\"\n            class=\"form-control\"\n            :class=\"classes\"\n            id=\"loginPassword\"\n            placeholder=\"請輸入密碼\"\n            required\n            v-model=\"user.password\"\n          />\n          <span class=\"text-danger text-left\"> {{ errors[0] }} </span>\n        </Validation-provider>\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary btn-block\">\n        登入\n      </button>\n      <button type=\"button\" class=\"btn btn-outline-warning btn-block\" @click=\"toFrontEnd()\">\n        回首頁\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport swal from 'sweetalert';\n\nexport default {\n  data() {\n    return {\n      user: {\n        email: '',\n        password: '',\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    logIn() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/api/auth/login`;\n      this.$http\n        .post(api, this.user)\n        .then((res) => {\n          const { token } = res.data;\n          const { expired } = res.data;\n          // 將取得的token存入cookie\n          document.cookie = `token=${token}; expires=${new Date(expired * 1000)};`;\n          this.isLoading = false;\n          this.$router.push('/admin/products');\n        })\n        .catch(() => {\n          this.isLoading = false;\n          swal({\n            title: '登入失敗',\n            text: '登入失敗，請重新嘗試',\n            icon: 'error',\n            buttons: false,\n            timer: 1000,\n          });\n        });\n    },\n    toFrontEnd() {\n      this.$router.push('/');\n    },\n  },\n};\n</script>\n\n<style>\n.login {\n  height: 100vh;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e03466c6&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}