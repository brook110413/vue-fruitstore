(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-160606f2"],{"7a03":function(e,t,a){"use strict";var s=a("990a"),r=a.n(s);r.a},"990a":function(e,t,a){},e90b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order pt-4"},[a("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row justify-content-center"},[a("validation-observer",{staticClass:"col-lg-6",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.invalid;return[a("form",{on:{submit:function(t){return t.preventDefault(),e.createOrder(t)}}},[a("div",{staticClass:"form-group"},[a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,r=t.classes;return[a("label",{attrs:{for:"username"}},[e._v("收件人姓名 "),a("span",{staticClass:"text-danger align-middle"},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:r,attrs:{type:"text",id:"username",name:"收件人姓名","aria-describedby":"username",placeholder:"請輸入收件人姓名"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),a("span",{staticClass:"text-danger"},[e._v(" "+e._s(s[0])+" ")])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("validation-provider",{attrs:{rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,r=t.classes;return[a("label",{attrs:{for:"email"}},[e._v("Email "),a("span",{staticClass:"text-danger align-middle"},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:r,attrs:{type:"email",id:"email",name:"電子郵件","aria-describedby":"email",placeholder:"請輸入email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),a("span",{staticClass:"text-danger"},[e._v(" "+e._s(s[0])+" ")])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("validation-provider",{attrs:{rules:"required|min:8|numeric"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,r=t.classes;return[a("label",{attrs:{for:"tel"}},[e._v("電話 "),a("span",{staticClass:"text-danger align-middle"},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel,expression:"form.tel"}],staticClass:"form-control",class:r,attrs:{type:"tel",id:"tel",name:"電話","aria-describedby":"tel",placeholder:"請輸入電話"},domProps:{value:e.form.tel},on:{input:function(t){t.target.composing||e.$set(e.form,"tel",t.target.value)}}}),a("span",{staticClass:"text-danger"},[e._v(" "+e._s(s[0])+" ")])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,r=t.classes;return[a("label",{attrs:{for:"address"}},[e._v("地址 "),a("span",{staticClass:"text-danger align-middle"},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],staticClass:"form-control",class:r,attrs:{type:"text",id:"address",name:"地址","aria-describedby":"address",placeholder:"請輸入收件地址"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}}),a("span",{staticClass:"text-danger"},[e._v(" "+e._s(s[0])+" ")])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,r=t.classes;return[a("label",{attrs:{for:"payment"}},[e._v("付款方式 "),a("span",{staticClass:"text-danger align-middle"},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.payment,expression:"form.payment"}],staticClass:"form-control",class:r,attrs:{name:"付款方式",id:"payment"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"payment",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("請選擇付款方式")]),a("option",{attrs:{value:"WebATM"}},[e._v("WebATM")]),a("option",{attrs:{value:"ATM"}},[e._v("ATM")]),a("option",{attrs:{value:"Barcode"}},[e._v("Barcode")]),a("option",{attrs:{value:"Credit"}},[e._v("Credit")]),a("option",{attrs:{value:"ApplePay"}},[e._v("ApplePay")]),a("option",{attrs:{value:"GooglePay"}},[e._v("GooglePay")])]),a("span",{staticClass:"text-danger"},[e._v(" "+e._s(s[0])+" ")])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"message"}},[e._v("備註")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"message",id:"message",cols:"30",rows:"3",placeholder:"有什麼想和我們說的嗎？"},domProps:{value:e.form.message},on:{input:function(t){t.target.composing||e.$set(e.form,"message",t.target.value)}}})]),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("router-link",{staticClass:"text-dark",attrs:{to:"/cart"}},[a("i",{staticClass:"fas fa-angle-left mr-2"}),e._v("回購物車")]),a("button",{staticClass:"btn btn-primary",class:{notAllowed:s},attrs:{type:"submit",disabled:s}},[e._v(" 提交訂單 ")])],1)])]}}])})],1)])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-8 mb-4"},[a("ul",{staticClass:"list-unstyled d-flex justify-content-around mb-1"},[a("li",{staticClass:"d-flex flex-column align-items-center"},[a("span",{staticClass:"rounded-circle bg-primary\n              d-flex justify-content-center\n              align-items-center text-white",staticStyle:{width:"20px",height:"20px"}},[e._v("1")]),e._v("購物車 ")]),a("li",{staticClass:"d-flex flex-column align-items-center"},[a("span",{staticClass:"rounded-circle bg-primary\n              d-flex justify-content-center\n              align-items-center text-white",staticStyle:{width:"20px",height:"20px"}},[e._v("2")]),e._v("填寫資料 ")]),a("li",{staticClass:"d-flex flex-column align-items-center"},[a("span",{staticClass:"rounded-circle bg-primary\n              d-flex justify-content-center\n              align-items-center text-white",staticStyle:{width:"20px",height:"20px"}},[e._v("3")]),e._v("訂單確認 ")])]),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"66%"},attrs:{role:"progressbar","aria-valuenow":"66","aria-valuemin":"0","aria-valuemax":"100"}})])])])}],i=(a("99af"),a("5530")),n=a("1940"),o=a.n(n),l={name:"Order",data:function(){return{isLoading:!1,form:{name:"",email:"",tel:"",address:"",payment:"",message:""}}},props:["coupon"],methods:{createOrder:function(){var e=this;this.isLoading=!0;var t="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/orders"),a=Object(i["a"])({},this.form);this.coupon.enabled&&(a.coupon=this.coupon.code),this.$http.post(t,a).then((function(){e.$bus.$emit("updateCart"),e.$router.push("/checkout"),e.isLoading=!1})).catch((function(){o()({title:"訂單失敗",text:"系統忙碌中，請稍後再嘗試",icon:"error",buttons:!1,timer:1e3})}))}}},c=l,d=(a("7a03"),a("2877")),u=Object(d["a"])(c,s,r,!1,null,"39bcf4a5",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-160606f2.0aef1377.js.map