(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31dca658"],{"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("a630"),i("fb6a"),i("b0c0"),i("d3b7"),i("25f0"),i("3ca3");var r=i("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(r["a"])(t,e):void 0}}},"072b":function(t,e,i){"use strict";var r=i("1346"),n=i.n(r);n.a},"0fd0":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product pt-3"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.product.id?i("div",{staticClass:"container"},[i("nav",{attrs:{"aria-label":"breadcrumb"}},[i("ol",{staticClass:"breadcrumb bg-white"},[i("li",{staticClass:"breadcrumb-item"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.category="所有商品",t.toProducts()}}},[t._v(" 所有商品 ")])]),i("li",{staticClass:"breadcrumb-item"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.category=t.product.category,t.toProducts()}}},[t._v(" "+t._s(t.product.category)+" ")])]),i("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),i("div",{staticClass:"row mb-5"},[i("div",{staticClass:"col-lg-6"},[i("div",{staticClass:"d-flex justify-content-center"},[i("img",{staticClass:"img-fluid rounded",attrs:{src:t.product.imageUrl[0],alt:""}}),t.favoriteId.includes(t.product.id)?i("a",{staticClass:"btn favorite",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removefavorite()}}},[i("i",{staticClass:"fas fa-heart fa-2x text-white"})]):i("a",{staticClass:"btn favorite",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addfavorite()}}},[i("i",{staticClass:"far fa-heart fa-2x text-white"})])])]),i("div",{staticClass:"col-lg-6 d-flex justify-content-center align-items-center"},[i("div",{staticClass:"card border-0"},[i("div",{staticClass:"card-body"},[i("h2",{staticClass:"card-title text-primary font-weight-bold"},[t._v(t._s(t.product.title))]),i("p",{staticClass:"card-text"},[t._v(" 【 產品說明 】"),i("br"),t._v(" "+t._s(t.product.content)+" ")]),i("div",{staticClass:"d-flex flex-column align-items-end mb-3"},[i("del",{staticClass:"mb-0 mb-2"},[t._v(" 原價 "+t._s(t._f("money")(t.product.origin_price))+" / "+t._s(t.product.unit)+" ")]),i("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(" 網路價 "+t._s(t._f("money")(t.product.price))+" / "+t._s(t.product.unit)+" ")])]),i("p",{staticClass:"h5 text-right"},[t._v("小計 "+t._s(t._f("money")(t.product.price*t.cartNum)))]),i("div",{staticClass:"d-flex"},[i("div",{staticClass:"input-group w-50 mr-3"},[i("div",{staticClass:"input-group-prepend"},[i("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:t.cartNum<=1},on:{click:function(e){t.cartNum--}}},[t._v(" - ")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cartNum,expression:"cartNum"}],staticClass:"form-control text-center",attrs:{type:"number",min:"1",readonly:""},domProps:{value:t.cartNum},on:{input:function(e){e.target.composing||(t.cartNum=e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){t.cartNum++}}},[t._v(" + ")])])]),i("button",{staticClass:"btn btn-primary w-50",attrs:{type:"button"},on:{click:function(e){return t.addToCart()}}},[t._v(" 加入購物車 ")])])])])])]),i("h3",{staticClass:"h4 mb-3"},[t._v("相關商品")]),i("swiper",{attrs:{relatedProducts:t.relatedProducts},on:{toProduct:function(e){return t.getProduct()}}})],1):t._e()],1)},n=[],a=(i("99af"),i("4de4"),i("4160"),i("a434"),i("d3b7"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),i("2909")),o=i("1940"),s=i.n(o),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.relatedProducts,(function(e){return i("swiper-slide",{key:e.id},[i("router-link",{staticClass:"text-decoration-none text-dark",attrs:{to:"/product/"+e.id},nativeOn:{click:function(e){return t.toProduct()}}},[i("div",{staticClass:"card"},[i("div",{staticClass:"product__img__wrap"},[i("div",{staticClass:"product__img bg-cover",staticStyle:{height:"200px"},style:{backgroundImage:"url("+e.imageUrl[0]+")"}})]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("h5",{staticClass:"card-title text-primary font-weight-bold"},[t._v(t._s(e.title))]),i("span",{staticClass:"badge badge-secondary align-self-start"},[t._v(" "+t._s(e.category)+" ")])]),i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("money")(e.origin_price))+" 元")]),i("p",{staticClass:"h5 font-weight-bold"},[t._v("網路價 "+t._s(t._f("money")(e.price))+" 元")])])])])])])],1)})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},u=[],d=i("7212"),l=(i("a7a3"),{components:{Swiper:d["Swiper"],SwiperSlide:d["SwiperSlide"]},props:["relatedProducts"],data:function(){return{swiperOption:{speed:1200,loop:!0,slidesPerView:1,pagination:{el:".swiper-pagination",dynamicBullets:!0,clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{992:{slidesPerView:4,spaceBetween:10},768:{slidesPerView:2,spaceBetween:15}}}}},methods:{toProduct:function(){this.$emit("toProduct")}}}),f=l,v=i("2877"),p=Object(v["a"])(f,c,u,!1,null,null,null),h=p.exports,b={name:"Product",components:{Swiper:h},data:function(){return{relatedProducts:[],product:{},cartNum:1,isLoading:!1,favoriteList:[],favoriteId:[],category:""}},created:function(){this.getProduct(),this.favoriteList=JSON.parse(localStorage.getItem("favoriteList"))||[],this.favoriteId=JSON.parse(localStorage.getItem("favoriteId"))||[]},methods:{getProduct:function(){var t=this;this.isLoading=!0;var e=this.$route.params.id;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/product/").concat(e);this.$http.get(i).then((function(e){t.product=e.data.data,t.getRelatedProducts()}))},getRelatedProducts:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/products");this.$http.get(e).then((function(e){t.relatedProducts=e.data.data.filter((function(e){return e.category===t.product.category&&e.id!==t.product.id})),t.isLoading=!1}))},addToCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/shopping"),i={product:this.product.id,quantity:this.cartNum};this.$http.post(e,i).then((function(){t.$emit("updateCart"),t.isLoading=!1})).catch((function(){s()({title:"商品重複",text:"商品已放入購物車當中",icon:"error",buttons:!1,timer:1e3}),t.isLoading=!1}))},addfavorite:function(){this.favoriteList.push(this.product),this.favoriteId.push(this.product.id),this.favoriteList=Object(a["a"])(new Set(this.favoriteList)),this.favoriteId=Object(a["a"])(new Set(this.favoriteId)),localStorage.setItem("favoriteList",JSON.stringify(this.favoriteList)),localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId)),s()({title:"加入追蹤商品",text:"已加入追蹤商品當中",icon:"success",buttons:!1,timer:1e3})},removefavorite:function(){var t=this;this.favoriteList.forEach((function(e,i){e.id===t.product.id&&(t.favoriteList.splice(i,1),localStorage.setItem("favoriteList",JSON.stringify(t.favoriteList)))})),this.favoriteId.forEach((function(e,i){e===t.product.id&&(t.favoriteId.splice(i,1),localStorage.setItem("favoriteId",JSON.stringify(t.favoriteId)))})),s()({title:"取消追蹤商品",text:"已取消追蹤商品",icon:"info",buttons:!1,timer:1e3})},toProducts:function(){this.$emit("fliterProduct",this.category),this.$router.push("/products/".concat(this.category))}}},g=b,m=(i("072b"),Object(v["a"])(g,r,n,!1,null,"77e021be",null));e["default"]=m.exports},1346:function(t,e,i){},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("6b75");function n(t){if(Array.isArray(t))return Object(r["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=i("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return n(t)||a(t)||Object(o["a"])(t)||s()}},"3ca3":function(t,e,i){"use strict";var r=i("6547").charAt,n=i("69f3"),a=i("7dd0"),o="String Iterator",s=n.set,c=n.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=r(i,n),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,i){"use strict";var r=i("0366"),n=i("7b0b"),a=i("9bdd"),o=i("e95a"),s=i("50c4"),c=i("8418"),u=i("35a1");t.exports=function(t){var e,i,d,l,f,v,p=n(t),h="function"==typeof this?this:Array,b=arguments.length,g=b>1?arguments[1]:void 0,m=void 0!==g,y=u(p),x=0;if(m&&(g=r(g,b>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(e=s(p.length),i=new h(e);e>x;x++)v=m?g(p[x],x):p[x],c(i,x,v);else for(l=y.call(p),f=l.next,i=new h;!(d=f.call(l)).done;x++)v=m?a(l,g,[d.value,x],!0):d.value,c(i,x,v);return i.length=x,i}},6062:function(t,e,i){"use strict";var r=i("6d61"),n=i("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},6566:function(t,e,i){"use strict";var r=i("9bf2").f,n=i("7c73"),a=i("e2cc"),o=i("0366"),s=i("19aa"),c=i("2266"),u=i("7dd0"),d=i("2626"),l=i("83ab"),f=i("f183").fastKey,v=i("69f3"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,i,u){var d=t((function(t,r){s(t,d,e),p(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&c(r,t[u],t,i)})),v=h(e),b=function(t,e,i){var r,n,a=v(t),o=g(t,e);return o?o.value=i:(a.last=o={index:n=f(e,!0),key:e,value:i,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),l?a.size++:t.size++,"F"!==n&&(a.index[n]=o)),t},g=function(t,e){var i,r=v(t),n=f(e);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==e)return i};return a(d.prototype,{clear:function(){var t=this,e=v(t),i=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete i[r.index],r=r.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,i=v(e),r=g(e,t);if(r){var n=r.next,a=r.previous;delete i.index[r.index],r.removed=!0,a&&(a.next=n),n&&(n.previous=a),i.first==r&&(i.first=n),i.last==r&&(i.last=a),l?i.size--:e.size--}return!!r},forEach:function(t){var e,i=v(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),a(d.prototype,i?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),l&&r(d.prototype,"size",{get:function(){return v(this).size}}),d},setStrong:function(t,e,i){var r=e+" Iterator",n=h(e),a=h(r);u(t,e,(function(t,e){p(this,{type:r,target:t,state:n(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),d(e)}}},"6b75":function(t,e,i){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}i.d(e,"a",(function(){return r}))},"6d61":function(t,e,i){"use strict";var r=i("23e7"),n=i("da84"),a=i("94ca"),o=i("6eeb"),s=i("f183"),c=i("2266"),u=i("19aa"),d=i("861d"),l=i("d039"),f=i("1c7e"),v=i("d44e"),p=i("7156");t.exports=function(t,e,i){var h=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),g=h?"set":"add",m=n[t],y=m&&m.prototype,x=m,w={},C=function(t){var e=y[t];o(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!d(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(a(t,"function"!=typeof m||!(b||y.forEach&&!l((function(){(new m).entries().next()})))))x=i.getConstructor(e,t,h,g),s.REQUIRED=!0;else if(a(t,!0)){var S=new x,_=S[g](b?{}:-0,1)!=S,I=l((function(){S.has(1)})),O=f((function(t){new m(t)})),k=!b&&l((function(){var t=new m,e=5;while(e--)t[g](e,e);return!t.has(-0)}));O||(x=e((function(e,i){u(e,x,t);var r=p(new m,e,x);return void 0!=i&&c(i,r[g],r,h),r})),x.prototype=y,y.constructor=x),(I||k)&&(C("delete"),C("has"),h&&C("get")),(k||_)&&C(g),b&&y.clear&&delete y.clear}return w[t]=x,r({global:!0,forced:x!=m},w),v(x,t),b||i.setStrong(x,t,h),x}},7156:function(t,e,i){var r=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var a,o;return n&&"function"==typeof(a=e.constructor)&&a!==i&&r(o=a.prototype)&&o!==i.prototype&&n(t,o),t}},a434:function(t,e,i){"use strict";var r=i("23e7"),n=i("23cb"),a=i("a691"),o=i("50c4"),s=i("7b0b"),c=i("65f0"),u=i("8418"),d=i("1dde"),l=i("ae40"),f=d("splice"),v=l("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,e){var i,r,d,l,f,v,m=s(this),y=o(m.length),x=n(t,y),w=arguments.length;if(0===w?i=r=0:1===w?(i=0,r=y-x):(i=w-2,r=h(p(a(e),0),y-x)),y+i-r>b)throw TypeError(g);for(d=c(m,r),l=0;l<r;l++)f=x+l,f in m&&u(d,l,m[f]);if(d.length=r,i<r){for(l=x;l<y-r;l++)f=l+r,v=l+i,f in m?m[v]=m[f]:delete m[v];for(l=y;l>y-r+i;l--)delete m[l-1]}else if(i>r)for(l=y-r;l>x;l--)f=l+r-1,v=l+i-1,f in m?m[v]=m[f]:delete m[v];for(l=0;l<i;l++)m[l+x]=arguments[l+2];return m.length=y-r+i,d}})},a630:function(t,e,i){var r=i("23e7"),n=i("4df4"),a=i("1c7e"),o=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:n})},b0c0:function(t,e,i){var r=i("83ab"),n=i("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in a)&&n(a,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},bb2f:function(t,e,i){var r=i("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d28b:function(t,e,i){var r=i("746f");r("iterator")},ddb0:function(t,e,i){var r=i("da84"),n=i("fdbc"),a=i("e260"),o=i("9112"),s=i("b622"),c=s("iterator"),u=s("toStringTag"),d=a.values;for(var l in n){var f=r[l],v=f&&f.prototype;if(v){if(v[c]!==d)try{o(v,c,d)}catch(h){v[c]=d}if(v[u]||o(v,u,l),n[l])for(var p in a)if(v[p]!==a[p])try{o(v,p,a[p])}catch(h){v[p]=a[p]}}}},e01a:function(t,e,i){"use strict";var r=i("23e7"),n=i("83ab"),a=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,u=i("e893"),d=a.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(f,d);var v=f.prototype=d.prototype;v.constructor=f;var p=v.toString,h="Symbol(test)"==String(d("test")),b=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(l,t))return"";var i=h?e.slice(7,-1):e.replace(b,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:f})}},f183:function(t,e,i){var r=i("d012"),n=i("861d"),a=i("5135"),o=i("9bf2").f,s=i("90e3"),c=i("bb2f"),u=s("meta"),d=0,l=Object.isExtensible||function(){return!0},f=function(t){o(t,u,{value:{objectID:"O"+ ++d,weakData:{}}})},v=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},p=function(t,e){if(!a(t,u)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},h=function(t){return c&&b.REQUIRED&&l(t)&&!a(t,u)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:v,getWeakData:p,onFreeze:h};r[u]=!0},fb6a:function(t,e,i){"use strict";var r=i("23e7"),n=i("861d"),a=i("e8b5"),o=i("23cb"),s=i("50c4"),c=i("fc6a"),u=i("8418"),d=i("b622"),l=i("1dde"),f=i("ae40"),v=l("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),b=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!v||!p},{slice:function(t,e){var i,r,d,l=c(this),f=s(l.length),v=o(t,f),p=o(void 0===e?f:e,f);if(a(l)&&(i=l.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?n(i)&&(i=i[h],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return b.call(l,v,p);for(r=new(void 0===i?Array:i)(g(p-v,0)),d=0;v<p;v++,d++)v in l&&u(r,d,l[v]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-31dca658.14bab41e.js.map