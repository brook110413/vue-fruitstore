(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-550f35a4"],{"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("a630"),i("fb6a"),i("b0c0"),i("d3b7"),i("25f0"),i("3ca3");var r=i("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(r["a"])(t,e):void 0}}},"1eb6":function(t,e,i){},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("6b75");function a(t){if(Array.isArray(t))return Object(r["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=i("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||n(t)||Object(o["a"])(t)||s()}},"3ca3":function(t,e,i){"use strict";var r=i("6547").charAt,a=i("69f3"),n=i("7dd0"),o="String Iterator",s=a.set,c=a.getterFor(o);n(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),i=e.string,a=e.index;return a>=i.length?{value:void 0,done:!0}:(t=r(i,a),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,i){"use strict";var r=i("0366"),a=i("7b0b"),n=i("9bdd"),o=i("e95a"),s=i("50c4"),c=i("8418"),d=i("35a1");t.exports=function(t){var e,i,l,u,f,v,p=a(t),h="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,m=void 0!==b,y=d(p),x=0;if(m&&(b=r(b,g>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(e=s(p.length),i=new h(e);e>x;x++)v=m?b(p[x],x):p[x],c(i,x,v);else for(u=y.call(p),f=u.next,i=new h;!(l=f.call(u)).done;x++)v=m?n(u,b,[l.value,x],!0):l.value,c(i,x,v);return i.length=x,i}},6062:function(t,e,i){"use strict";var r=i("6d61"),a=i("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(t,e,i){"use strict";var r=i("9bf2").f,a=i("7c73"),n=i("e2cc"),o=i("0366"),s=i("19aa"),c=i("2266"),d=i("7dd0"),l=i("2626"),u=i("83ab"),f=i("f183").fastKey,v=i("69f3"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,i,d){var l=t((function(t,r){s(t,l,e),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=r&&c(r,t[d],t,i)})),v=h(e),g=function(t,e,i){var r,a,n=v(t),o=b(t,e);return o?o.value=i:(n.last=o={index:a=f(e,!0),key:e,value:i,previous:r=n.last,next:void 0,removed:!1},n.first||(n.first=o),r&&(r.next=o),u?n.size++:t.size++,"F"!==a&&(n.index[a]=o)),t},b=function(t,e){var i,r=v(t),a=f(e);if("F"!==a)return r.index[a];for(i=r.first;i;i=i.next)if(i.key==e)return i};return n(l.prototype,{clear:function(){var t=this,e=v(t),i=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete i[r.index],r=r.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,i=v(e),r=b(e,t);if(r){var a=r.next,n=r.previous;delete i.index[r.index],r.removed=!0,n&&(n.next=a),a&&(a.previous=n),i.first==r&&(i.first=a),i.last==r&&(i.last=n),u?i.size--:e.size--}return!!r},forEach:function(t){var e,i=v(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),n(l.prototype,i?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),u&&r(l.prototype,"size",{get:function(){return v(this).size}}),l},setStrong:function(t,e,i){var r=e+" Iterator",a=h(e),n=h(r);d(t,e,(function(t,e){p(this,{type:r,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=n(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),l(e)}}},"6b75":function(t,e,i){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}i.d(e,"a",(function(){return r}))},"6d61":function(t,e,i){"use strict";var r=i("23e7"),a=i("da84"),n=i("94ca"),o=i("6eeb"),s=i("f183"),c=i("2266"),d=i("19aa"),l=i("861d"),u=i("d039"),f=i("1c7e"),v=i("d44e"),p=i("7156");t.exports=function(t,e,i){var h=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=h?"set":"add",m=a[t],y=m&&m.prototype,x=m,C={},_=function(t){var e=y[t];o(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(n(t,"function"!=typeof m||!(g||y.forEach&&!u((function(){(new m).entries().next()})))))x=i.getConstructor(e,t,h,b),s.REQUIRED=!0;else if(n(t,!0)){var w=new x,S=w[b](g?{}:-0,1)!=w,I=u((function(){w.has(1)})),k=f((function(t){new m(t)})),O=!g&&u((function(){var t=new m,e=5;while(e--)t[b](e,e);return!t.has(-0)}));k||(x=e((function(e,i){d(e,x,t);var r=p(new m,e,x);return void 0!=i&&c(i,r[b],r,h),r})),x.prototype=y,y.constructor=x),(I||O)&&(_("delete"),_("has"),h&&_("get")),(O||S)&&_(b),g&&y.clear&&delete y.clear}return C[t]=x,r({global:!0,forced:x!=m},C),v(x,t),g||i.setStrong(x,t,h),x}},7156:function(t,e,i){var r=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var n,o;return a&&"function"==typeof(n=e.constructor)&&n!==i&&r(o=n.prototype)&&o!==i.prototype&&a(t,o),t}},"81b1":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products pt-4"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.products[0]?i("div",{staticClass:"container"},[i("div",{staticClass:"d-sm-flex justify-content-sm-end mb-3"},[i("div",{staticClass:"d-lg-flex align-items-lg-center d-none mr-3"},[i("p",{staticClass:"mb-0"},[t._v("顯示方式：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.display,expression:"display"}],staticClass:"mr-1",attrs:{type:"radio",id:"standard",value:"standard"},domProps:{checked:t._q(t.display,"standard")},on:{change:function(e){t.display="standard"}}}),i("label",{staticClass:"mb-0 mr-2",attrs:{for:"standard"}},[t._v("標準")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.display,expression:"display"}],staticClass:"mr-1",attrs:{type:"radio",id:"list",value:"list"},domProps:{checked:t._q(t.display,"list")},on:{change:function(e){t.display="list"}}}),i("label",{staticClass:"mb-0",attrs:{for:"list"}},[t._v("序列")])]),i("div",{staticClass:"form-group mb-0"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],staticClass:"form-control",attrs:{name:"sort",id:"sort"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?i:i[0]},function(e){return t.sortProducts()}]}},[i("option",{attrs:{value:"",disabled:""}},[t._v("商品排序")]),i("option",{attrs:{value:"lowToHigh"}},[t._v("價格由低至高")]),i("option",{attrs:{value:"highToLow"}},[t._v("價格由高至低")])])])]),"standard"===t.display?i("div",{staticClass:"row"},t._l(t.filterProducts,(function(e){return i("div",{key:e.id,staticClass:"col-lg-3 col-md-6 mb-5"},[i("router-link",{staticClass:"text-decoration-none text-dark",attrs:{to:"/product/"+e.id}},[i("div",{staticClass:"card"},[i("div",{staticClass:"product__wrap"},[i("div",{staticClass:"product__wrap__img bg-cover position-relative",staticStyle:{height:"200px"},style:{backgroundImage:"url("+e.imageUrl[0]+")"}},[t.favoriteId.includes(e.id)?i("a",{staticClass:"btn favorite",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.removefavorite(e)}}},[i("i",{staticClass:"fas fa-heart fa-lg text-white"})]):i("a",{staticClass:"btn favorite",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.addfavorite(e)}}},[i("i",{staticClass:"far fa-heart fa-lg text-white"})]),i("span",{staticClass:"moreInfo"},[t._v("看更多內容")])])]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("h5",{staticClass:"card-title text-primary font-weight-bold"},[t._v(t._s(e.title))]),i("span",{staticClass:"badge badge-secondary align-self-start"},[t._v(" "+t._s(e.category)+" ")])]),i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("money")(e.origin_price))+" 元")]),i("p",{staticClass:"h5 font-weight-bold"},[t._v("網路價 "+t._s(t._f("money")(e.price))+" 元")])])])]),i("div",{staticClass:"card-footer bg-white p-0 border-0"},[i("button",{staticClass:"btn btn-primary btn-block font-weight-bold",staticStyle:{"border-top-left-radius":"0","border-top-right-radius":"0"},attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.addToCart(e.id)}}},[i("i",{staticClass:"fas fa-cart-plus mr-1"}),t._v(" 加入購物車 ")])])])])],1)})),0):t._e(),"list"===t.display?i("table",{staticClass:"table"},[t._m(0),i("tbody",t._l(t.filterProducts,(function(e){return i("tr",{key:e.id},[i("th",{staticClass:"align-middle",attrs:{scope:"row"}},[i("router-link",{attrs:{to:"/product/"+e.id}},[i("img",{staticClass:"img-fluid mr-3 d-none d-md-inline-block",attrs:{src:e.imageUrl[0],width:"200px"}})]),t._v(" "+t._s(e.title)+" ")],1),i("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(e.unit)+" ")]),i("td",{staticClass:"align-middle text-right"},[i("del",[t._v(t._s(t._f("money")(e.origin_price)))])]),i("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("money")(e.price))+" ")]),i("td",{staticClass:"align-middle text-center"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.addToCart(e.id)}}},[i("i",{staticClass:"fas fa-cart-plus mr-1"}),t._v("加入購物車 ")])])])})),0)]):t._e()]):t._e()],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("品名")]),i("th",{staticClass:"text-center d-none d-sm-table-cell",attrs:{scope:"col"}},[t._v("單位")]),i("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("原價")]),i("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("網路價")]),i("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("加入購物車")])])])}],n=(i("99af"),i("4de4"),i("4160"),i("a434"),i("d3b7"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),i("2909")),o=i("1940"),s=i.n(o),c={name:"Products",data:function(){return{products:[],pagination:{},isLoading:!1,sort:"",favoriteList:[],favoriteId:[],display:"standard"}},created:function(){this.$emit("changeCategory",this.$route.params.category),this.getProducts(),this.favoriteList=JSON.parse(localStorage.getItem("favoriteList"))||[],this.favoriteId=JSON.parse(localStorage.getItem("favoriteId"))||[]},props:["category"],methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/products?page=").concat(e);this.$http.get(i).then((function(e){t.products=e.data.data,t.pagination=e.data.meta.pagination,t.isLoading=!1}))},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var r="".concat("https://course-ec-api.hexschool.io","/api/").concat("069602ae-7e90-4b68-ab74-eede1d9ee78e","/ec/shopping"),a={product:t,quantity:i};this.$http.post(r,a).then((function(){s()({title:"產品添加成功",text:"請至購物車結帳",icon:"success",buttons:!1,timer:1e3}),e.$emit("updateCart"),e.isLoading=!1})).catch((function(){s()({title:"商品重複",text:"商品已放入購物車當中",icon:"error",buttons:!1,timer:1e3}),e.isLoading=!1}))},sortProducts:function(){var t=this;this.filterProducts.sort((function(e,i){return"lowToHigh"===t.sort?e.price-i.price:"highToLow"===t.sort?i.price-e.price:t.filterProducts}))},addfavorite:function(t){this.favoriteList.push(t),this.favoriteId.push(t.id),this.favoriteList=Object(n["a"])(new Set(this.favoriteList)),this.favoriteId=Object(n["a"])(new Set(this.favoriteId)),localStorage.setItem("favoriteList",JSON.stringify(this.favoriteList)),localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId)),s()({title:"加入追蹤商品",text:"已加入追蹤商品當中",icon:"success",buttons:!1,timer:1e3})},removefavorite:function(t){var e=this;this.favoriteList.forEach((function(i,r){i.id===t.id&&(e.favoriteList.splice(r,1),localStorage.setItem("favoriteList",JSON.stringify(e.favoriteList)))})),this.favoriteId.forEach((function(i,r){i===t.id&&(e.favoriteId.splice(r,1),localStorage.setItem("favoriteId",JSON.stringify(e.favoriteId)))})),s()({title:"取消追蹤商品",text:"已取消追蹤商品",icon:"info",buttons:!1,timer:1e3})}},computed:{filterProducts:function(){var t=this;return"所有商品"===this.category?this.products:this.products.filter((function(e){return e.category===t.category}))}}},d=c,l=(i("ae67"),i("2877")),u=Object(l["a"])(d,r,a,!1,null,"444980e2",null);e["default"]=u.exports},a434:function(t,e,i){"use strict";var r=i("23e7"),a=i("23cb"),n=i("a691"),o=i("50c4"),s=i("7b0b"),c=i("65f0"),d=i("8418"),l=i("1dde"),u=i("ae40"),f=l("splice"),v=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,e){var i,r,l,u,f,v,m=s(this),y=o(m.length),x=a(t,y),C=arguments.length;if(0===C?i=r=0:1===C?(i=0,r=y-x):(i=C-2,r=h(p(n(e),0),y-x)),y+i-r>g)throw TypeError(b);for(l=c(m,r),u=0;u<r;u++)f=x+u,f in m&&d(l,u,m[f]);if(l.length=r,i<r){for(u=x;u<y-r;u++)f=u+r,v=u+i,f in m?m[v]=m[f]:delete m[v];for(u=y;u>y-r+i;u--)delete m[u-1]}else if(i>r)for(u=y-r;u>x;u--)f=u+r-1,v=u+i-1,f in m?m[v]=m[f]:delete m[v];for(u=0;u<i;u++)m[u+x]=arguments[u+2];return m.length=y-r+i,l}})},a630:function(t,e,i){var r=i("23e7"),a=i("4df4"),n=i("1c7e"),o=!n((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:a})},ae67:function(t,e,i){"use strict";var r=i("1eb6"),a=i.n(r);a.a},b0c0:function(t,e,i){var r=i("83ab"),a=i("9bf2").f,n=Function.prototype,o=n.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in n)&&a(n,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},bb2f:function(t,e,i){var r=i("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d28b:function(t,e,i){var r=i("746f");r("iterator")},ddb0:function(t,e,i){var r=i("da84"),a=i("fdbc"),n=i("e260"),o=i("9112"),s=i("b622"),c=s("iterator"),d=s("toStringTag"),l=n.values;for(var u in a){var f=r[u],v=f&&f.prototype;if(v){if(v[c]!==l)try{o(v,c,l)}catch(h){v[c]=l}if(v[d]||o(v,d,u),a[u])for(var p in n)if(v[p]!==n[p])try{o(v,p,n[p])}catch(h){v[p]=n[p]}}}},e01a:function(t,e,i){"use strict";var r=i("23e7"),a=i("83ab"),n=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,d=i("e893"),l=n.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(u[e]=!0),e};d(f,l);var v=f.prototype=l.prototype;v.constructor=f;var p=v.toString,h="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(u,t))return"";var i=h?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:f})}},f183:function(t,e,i){var r=i("d012"),a=i("861d"),n=i("5135"),o=i("9bf2").f,s=i("90e3"),c=i("bb2f"),d=s("meta"),l=0,u=Object.isExtensible||function(){return!0},f=function(t){o(t,d,{value:{objectID:"O"+ ++l,weakData:{}}})},v=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,d)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[d].objectID},p=function(t,e){if(!n(t,d)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[d].weakData},h=function(t){return c&&g.REQUIRED&&u(t)&&!n(t,d)&&f(t),t},g=t.exports={REQUIRED:!1,fastKey:v,getWeakData:p,onFreeze:h};r[d]=!0},fb6a:function(t,e,i){"use strict";var r=i("23e7"),a=i("861d"),n=i("e8b5"),o=i("23cb"),s=i("50c4"),c=i("fc6a"),d=i("8418"),l=i("b622"),u=i("1dde"),f=i("ae40"),v=u("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),g=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!v||!p},{slice:function(t,e){var i,r,l,u=c(this),f=s(u.length),v=o(t,f),p=o(void 0===e?f:e,f);if(n(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?a(i)&&(i=i[h],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(u,v,p);for(r=new(void 0===i?Array:i)(b(p-v,0)),l=0;v<p;v++,l++)v in u&&d(r,l,u[v]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-550f35a4.f11309b4.js.map